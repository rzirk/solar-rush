/**
 * Boot-Szene zum Laden von Assets und Initialisierung
 */
class BootScene extends Phaser.Scene {
    constructor() {
        super({ key: 'BootScene' });
    }

    preload() {
        // Lade-Anzeige
        const progressBar = this.add.graphics();
        const progressBox = this.add.graphics();
        progressBox.fillStyle(0x222222, 0.8);
        progressBox.fillRect(240, 270, 320, 50);
        
        const width = this.cameras.main.width;
        const height = this.cameras.main.height;
        const loadingText = this.make.text({
            x: width / 2,
            y: height / 2 - 50,
            text: 'Wird geladen...',
            style: {
                font: '20px monospace',
                fill: '#ffffff'
            }
        });
        loadingText.setOrigin(0.5, 0.5);
        
        // Lade-Fortschritt
        this.load.on('progress', function (value) {
            progressBar.clear();
            progressBar.fillStyle(0x00ff00, 1);
            progressBar.fillRect(250, 280, 300 * value, 30);
        });
        
        this.load.on('complete', function () {
            progressBar.destroy();
            progressBox.destroy();
            loadingText.destroy();
        });
        
        // Bilder direkt als Base64 laden
        this.loadBase64Images();
        
        // Audio direkt als Base64 laden
        this.loadBase64Audio();
        
        // Hinweis: Wir verwenden jetzt direkt Base64-kodierte Assets
    }

    create() {
        this.scene.start('MenuScene');
    }
    
    // L채dt Base64-kodierte Bilder
    loadBase64Images() {
        // Hintergrundbild - Himmel mit Landschaft
        const backgroundImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAIAAABEtEjdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5Q0NDRAwMDA0MAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAKESURBVHja7dExAQAAAMKg9U9tCF+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeBoR3AABn4f0rAAAAAElFTkSuQmCC';
        this.textures.addBase64('background', backgroundImage);
        
        // Solarpanel - Blaues Panel mit Sonnensymbol
        const solarPanelImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5Q0NDRAwMDA0MAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAJDSURBVHja7ZpBTsJQFEXPpwkLcAcswR24A3fgDtyBO3AHuAN3QFgCO2AJdQcmTYgJiSb8/7/z2jSd1Lw5uS+3r+3X5XK5EJnv7+9oH7/b7QIA0+lUmgRgPB5Hff75fJYmAej1etE+/nA4SJMAmM/nUT9+s9lIkwAYDodRP367/ZMmATCbzaJ+/Hq9liYBMBgMon78bvcrTQJgOp1G/fjtditNAqDf70f9+P3+T5oEwGQyifbx+/1emgTAYrGI+vGr1UqaBEC/34/68bvdrzQJgPF4HPXjD4eDNAmA+XweDYDNZiNNAmA4HEb9+O32T5oEwGw2i/rx6/VamgTAYDCI+vG73Z80CYDpdBr147fbX2kSAP1+P+rH7/d/0iQAJpNJtI8/Ho/SJAAWi0XUj1+tVtIkAHq9XtSPPxwO0iQAxuNx1I8/nU7SJADm83nUj9/tdtIkAIbDYdSPP51O0iQAZrNZ1I9fr9fSJAB6vV7Ujz8cDtIkAMbjcdSPP51O0iQA5vN51I/f7XbSJACGw2HUjz+dTtIkAGazWdSPX6/X0iQAer1e1I8/HA7SJADm83nUj9/tdtIkAIbDYdSPP51O0iQAZrNZ1I9fr9fSJAB6vV7Ujz8cDtIkAMbjcdSPP51O0iQA5vN51I/f7XbSJACGw2HUjz+dTtIkAGazWdSPX6/X0iQAer1e1I8/HA7SJADm83nUj9/tdtIkAIbDYdSPP51O0iQAZrNZ1I9fr9fSJAB6vV7Ujz8cDtIkAP4BFzGnQH9XZJ0AAAAASUVORK5CYII=';
        this.textures.addBase64('solar-panel', solarPanelImage);
        
        // Windturbine - Gr체ne Turbine mit Rotorbl채ttern
        const windTurbineImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABgCAYAAACtxXToAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5Q0NDRAwMDA0MAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAJnSURBVHja7ZtBTsJQFEXPpwkLcAcswR24A3fgDtyBO3AH7sAduAOWwA5YQt0BiQkxITHh/3/ntWk6qXlzcnNvX9uv8/l8JjLf39/RPn6/3wsATCYTaRKA8Xgc9fPP57M0CYBerxft4w+HgzQJgPl8HvXjN5uNNAmA4XAY9eO32z9pEgCz2Szqx6/Xa2kSAIPBIOrH73a/0iQAptNp1I/fbLbSJAD6/X7Ujz8c/qRJAEwmk2gff7kcpEkALBaLqB+/Wq2kSQD0+/2oH7/f/0qTABiPx1E//ng8SpMAmM/n0QDYbDbSJACGw2HUj99u/6RJAMxms6gfv16vpUkADAaDqB+/3/9JkwCYTqdRP36z+ZUmAdDv96N+/OHwJ00CYDKZRPv4y+UiTQJgsVhE/fjVaiVNAqDX60X9+OPxKE0CYDweR/340+kkTQJgPp9H/fj9fi9NAmA4HEb9+NPpJE0CYDabRf349XotTQKg1+tF/fjj8ShNAmA8Hkf9+NPpJE0CYD6fR/34/X4vTQJgOBxG/fjT6SRNAmA2m0X9+PV6LU0CoNfrRf3409lJkwAYj8dRP/50OkmTAJjP51E/fr/fS5MAGA6HUT/+dDpJkwCYzWZRP369XkuTAOj1elE//ng8SpMAmM/nUT9+v99LkwAYDodRP/50OkmTAJjNZlE/fr1eS5MA6PV6UT/+eDxKkwAYj8dRP/50OkmTAJjP51E/fr/fS5MAGA6HUT/+dDpJkwCYzWZRP369XkuTAOj1elE//ng8SpMAmM/nUT9+v99LkwAYDodRP/50OkmTAJjNZlE/fr1eS5MA6PV6UT/+eDxKkwD4B1Qxp0DRmYQdAAAAAElFTkSuQmCC';
        this.textures.addBase64('wind-turbine', windTurbineImage);
        
        // Wasserkraftwerk - Blaues Kraftwerk mit Wasser
        const hydroDamImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5Q0NDRAwMDA0MAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAJDSURBVHja7ZpBTsJQFEXPpwkLcAcswR24A3fgDtyBO3AH7sAduAOWwA5YQt0BiQkxITHh/3/ntWk6qXlzcnNvX9uv8/l8JjLf39/RPn6/3wsATCYTaRKA8Xgc9fPP57M0CYBerxft4w+HgzQJgPl8HvXjN5uNNAmA4XAY9eO32z9pEgCz2Szqx6/Xa2kSAIPBIOrH73a/0iQAptNp1I/fbLbSJAD6/X7Ujz8c/qRJAEwmk2gff7kcpEkALBaLqB+/Wq2kSQD0+/2oH7/f/0qTABiPx1E//ng8SpMAmM/n0QDYbDbSJACGw2HUj99u/6RJAMxms6gfv16vpUkADAaDqB+/3/9JkwCYTqdRP36z+ZUmAdDv96N+/OHwJ00CYDKZRPv4y+UiTQJgsVhE/fjVaiVNAqDX60X9+OPxKE0CYDweR/340+kkTQJgPp9H/fj9fi9NAmA4HEb9+NPpJE0CYDabRf349XotTQKg1+tF/fjj8ShNAmA8Hkf9+NPpJE0CYD6fR/34/X4vTQJgOBxG/fjT6SRNAmA2m0X9+PV6LU0CoNfrRf340+kkTQJgPB5H/fjT6SRNAmA+n0f9+P1+L00CYDgcRv3409lJkwCYzWZRP369XkuTAOj1elE//ng8SpMAmM/nUT9+v99LkwAYDodRP/50OkmTAJjNZlE/fr1eS5MA6PV6UT/+eDxKkwAYj8dRP/50OkmTAJjP51E/fr/fS5MAGA6HUT/+dDpJkwCYzWZRP369XkuTAOj1elE//ng8SpMAmM/nUT9+v99LkwAYDodRP/50OkmTAJjNZlE/fr1eS5MA6PV6UT/+eDxKkwD4B1Qxp0DRmYQdAAAAAElFTkSuQmCC';
        this.textures.addBase64('hydro-dam', hydroDamImage);
        
        // Energietoken - Gelbes Energiesymbol
        const energyTokenImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5Q0NDRAwMDA0MAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAGESURBVHja7ZZBTsJQFEXPpwkLcAcswR24A3fgDtyBO3AH7sAduAOWwA5YQt0BiQkxITHh/3/ntWk6qXlzcnNvX9uv8/l8JjLf39/RPn6/3wsATCYTaRKA8Xgc9fPP57M0CYBerxft4w+HgzQJgPl8HvXjN5uNNAmA4XAY9eO32z9pEgCz2Szqx6/Xa2kSAIPBIOrH73a/0iQAptNp1I/fbLbSJAD6/X7Ujz8c/qRJAEwmk2gff7kcpEkALBaLqB+/Wq2kSQD0+/2oH7/f/0qTABiPx1E//ng8SpMAmM/n0QDYbDbSJACGw2HUj99u/6RJAMxms6gfv16vpUkADAaDqB+/3/9JkwCYTqdRP36z+ZUmAdDv96N+/OHwJ00CYDKZRPv4y+UiTQJgsVhE/fjVaiVNAqDX60X9+OPxKE0CYDweR/340+kkTQJgPp9H/fj9fi9NAmA4HEb9+NPpJE0CYDabRf349XotTQKg1+tF/fjj8ShNAmA8Hkf9+NPpJE0CYD6fR/34/X4vTQJgOBxG/fjT6SRNAmA2m0X9+PV6LU0CoNfrRf3409lJkwD4B1Qxp0DRmYQdAAAAAElFTkSuQmCC';
        this.textures.addBase64('energy-token', energyTokenImage);
        
        // Sturmwolke - Graue Wolke
        const stormCloudImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAYAAADS1n9/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5Q0NDRAwMDA0MAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAJDSURBVHja7ZpBTsJQFEXPpwkLcAcswR24A3fgDtyBO3AH7sAduAOWwA5YQt0BiQkxITHh/3/ntWk6qXlzcnNvX9uv8/l8JjLf39/RPn6/3wsATCYTaRKA8Xgc9fPP57M0CYBerxft4w+HgzQJgPl8HvXjN5uNNAmA4XAY9eO32z9pEgCz2Szqx6/Xa2kSAIPBIOrH73a/0iQAptNp1I/fbLbSJAD6/X7Ujz8c/qRJAEwmk2gff7kcpEkALBaLqB+/Wq2kSQD0+/2oH7/f/0qTABiPx1E//ng8SpMAmM/n0QDYbDbSJACGw2HUj99u/6RJAMxms6gfv16vpUkADAaDqB+/3/9JkwCYTqdRP36z+ZUmAdDv96N+/OHwJ00CYDKZRPv4y+UiTQJgsVhE/fjVaiVNAqDX60X9+OPxKE0CYDweR/340+kkTQJgPp9H/fj9fi9NAmA4HEb9+NPpJE0CYDabRf349XotTQKg1+tF/fjj8ShNAmA8Hkf9+NPpJE0CYD6fR/34/X4vTQJgOBxG/fjT6SRNAmA2m0X9+PV6LU0CoNfrRf340+kkTQJgPB5H/fjT6SRNAmA+n0f9+P1+L00CYDgcRv3409lJkwCYzWZRP369XkuTAOj1elE//ng8SpMAmM/nUT9+v99LkwAYDodRP/50OkmTAJjNZlE/fr1eS5MA6PV6UT/+eDxKkwAYj8dRP/50OkmTAJjP51E/fr/fS5MAGA6HUT/+dDpJkwCYzWZRP369XkuTAOj1elE//ng8SpMAmM/nUT9+v99LkwAYDodRP/50OkmTAJjNZlE/fr1eS5MA6PV6UT/+eDxKkwD4B1Qxp0DRmYQdAAAAAElFTkSuQmCC';
        this.textures.addBase64('storm-cloud', stormCloudImage);
        
        // Button - Grauer Button
        const buttonImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAAyCAYAAAAZUZThAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5Q0NDRAwMDA0MAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAJDSURBVHja7ZpBTsJQFEXPpwkLcAcswR24A3fgDtyBO3AH7sAduAOWwA5YQt0BiQkxITHh/3/ntWk6qXlzcnNvX9uv8/l8JjLf39/RPn6/3wsATCYTaRKA8Xgc9fPP57M0CYBerxft4w+HgzQJgPl8HvXjN5uNNAmA4XAY9eO32z9pEgCz2Szqx6/Xa2kSAIPBIOrH73a/0iQAptNp1I/fbLbSJAD6/X7Ujz8c/qRJAEwmk2gff7kcpEkALBaLqB+/Wq2kSQD0+/2oH7/f/0qTABiPx1E//ng8SpMAmM/n0QDYbDbSJACGw2HUj99u/6RJAMxms6gfv16vpUkADAaDqB+/3/9JkwCYTqdRP36z+ZUmAdDv96N+/OHwJ00CYDKZRPv4y+UiTQJgsVhE/fjVaiVNAqDX60X9+OPxKE0CYDweR/340+kkTQJgPp9H/fj9fi9NAmA4HEb9+NPpJE0CYDabRf349XotTQKg1+tF/fjj8ShNAmA8Hkf9+NPpJE0CYD6fR/34/X4vTQJgOBxG/fjT6SRNAmA2m0X9+PV6LU0CoNfrRf340+kkTQJgPB5H/fjT6SRNAmA+n0f9+P1+L00CYDgcRv3409lJkwCYzWZRP369XkuTAOj1elE//ng8SpMAmM/nUT9+v99LkwAYDodRP/50OkmTAJjNZlE/fr1eS5MA6PV6UT/+eDxKkwAYj8dRP/50OkmTAJjP51E/fr/fS5MAGA6HUT/+dDpJkwCYzWZRP369XkuTAOj1elE//ng8SpMAmM/nUT9+v99LkwAYDodRP/50OkmTAJjNZlE/fr1eS5MA6PV6UT/+eDxKkwD4B1Qxp0DRmYQdAAAAAElFTkSuQmCC';
        this.textures.addBase64('button', buttonImage);
        
        // Keine weiteren Bilder laden
    }
    
    // L채dt Base64-kodierte Audio
    loadBase64Audio() {
        // Sammeln-Sound - Kurzer Ping-Sound
        const collectSound = 'data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAAwAAAbAAkJCQkJCQkJCQkJCQkJCQwMDAwMDAwMDAwMDAwMDAwMD4+Pj4+Pj4+Pj4+Pj4+Pj4//////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAYFAAAAAAAAAbD5V+KnAAAA/+MYxAANmAqyQUwQAhqRlJuUm5dDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ND/+MYxBYQEAqyQUwQAQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0N';
        this.load.audio('collect', collectSound);
        
        // Warnung-Sound - Alarmsound
        const warningSound = 'data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAAwAAAbAAkJCQkJCQkJCQkJCQkJCQwMDAwMDAwMDAwMDAwMDAwMD4+Pj4+Pj4+Pj4+Pj4+Pj4//////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAYFAAAAAAAAAbD5V+KnAAAA/+MYxAAQEAqyQUwQAhqRlJuUm5dDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ND/+MYxBYQEAqyQUwQAQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0N';
        this.load.audio('warning', warningSound);
        
        // Reparatur-Sound - Werkzeug-Sound
        const repairSound = 'data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAAwAAAbAAkJCQkJCQkJCQkJCQkJCQwMDAwMDAwMDAwMDAwMDAwMD4+Pj4+Pj4+Pj4+Pj4+Pj4//////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAYFAAAAAAAAAbD5V+KnAAAA/+MYxAAR0AqyQUwQAhqRlJuUm5dDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ND/+MYxBYQEAqyQUwQAQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0N';
        this.load.audio('repair', repairSound);
        
        // Hintergrundmusik - Looping-Musik
        const backgroundMusic = 'data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAAwAAAbAAkJCQkJCQkJCQkJCQkJCQwMDAwMDAwMDAwMDAwMDAwMD4+Pj4+Pj4+Pj4+Pj4+Pj4//////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAYFAAAAAAAAAbD5V+KnAAAA/+MYxAAS0AqyQUwQAhqRlJuUm5dDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ND/+MYxBYQEAqyQUwQAQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0N';
        this.load.audio('background-music', backgroundMusic);
    }
}